<h1>SW_MAGx_LR_1B</h1>
<p>Magnetic field (1Hz) from VFM and ASM</p>
<p>Thematic areas: Magnetic measurements, Space Weather</p>
<p>Applicable missions: Swarm</p>
<p>Applicable spacecraft: Swarm-A, Swarm-B, Swarm-C</p>
<h2>Description</h2>
<p>The MAGx_LR_1B Product contains magnetic vector and scalar data at 1 Hz rate. The S/C data are processed to provide MAGx_LR_1B data at exact UTC seconds, i.e. both VFM vector and ASM scalar data are interpolated to yield these data. Hence, small gaps in the VFM or ASM data need not cause gaps in the product as the gaps may be filled by this interpolation. Any gaps, however, will have an impact on the error estimate of the associated product element.</p>
<p>Each product comes in a zip file composed of one XML Header file, two Product files and one Quality Test Report file:</p>
<ul>
<li>XML Header file with extension .HDR</li>
<li>Product files with extension .cdf</li>
<li>Quality Test Report file with extension .EEF</li>
</ul>
<h2>Data access</h2>
<ul>
<li>Files:<ul>
<li><a href="https://swarm-diss.eo.esa.int/#swarm/Level1b/Latest_baselines/MAGx_LR">https://swarm-diss.eo.esa.int/#swarm/Level1b/Latest_baselines/MAGx_LR</a></li>
<li>ftp://swarm-diss.eo.esa.int/Level1b/Latest_baselines/MAGx_LR</li>
</ul>
</li>
<li>Web services:<ul>
<li><a href="https://vires.services/?ws=data%3Aapplication/json%2Bgzip%3Bbase64%2CH4sIAGmEGGMC/5VUbW/aMBD%2BKyifIfJLnMT9RnmZOtGOAe2koSoywaPeTIIcB7Wq%2BO87O5SmtJ20yNLFj%2B%2Beu3v88hxU0uxVLu%2BkqVRZBBedgIY8REG3A0ta5laux0pbaSaqsrC8DMZu7TK7acyoMQNnhuAB5vtwIvzP9WThzDiTxpTGO5Z1sRbmKRtrsXHAVCiTXRVrlQvbuHzNBuNsLrfq%2B7CZDt9OGzsa%2BTLGfZ/4aubNSMu9sNBG1i82Wjqov6pKXVuZ3S1GgzfA/AjMpIaY/SdANrue%2B8Lr1UrLbGrKlVgpreyTQxc%2Bx40M7sFYtZVzL1kj5DIgCMc9hGEsELrwI0QI/XRBrTVCLxiHEXLOf56ohuVWqBMP62HSo%2BBLPuMhC/RmzfHsTLmuc1sNyuKX2tRGHEt7DuY/sm/T0Sy77n/pZ5NZhi89vFeVgj7h35paAkNZW60KWQHyS%2BjKQzuRu/4vOtilEEZsJZyPyhPAuQAV3Z8RxcYRLTGDerod5owrKi91aapc%2BDTBb2mDg9vJ/w1qHdBjuYfmXMKmGVn1z6roxY4v/rSEg4t%2BUWU0vgJVpu9VOWnwn7LcyLP2EPL9EW/fl7TTotqKT3pcfEAGUn1MVBqrRbH2Gt9VZ5qwbucfW3KblWal7PuN6XYo%2B4eQLjaH7o2YlpU6Hbnd62SJKXwppyHBPE4YiWm3E6WM4giFhKZpxBISQ3UpTjBGOGSEIp4miLika2VeL1kPhSkmPCY8imBEjEAYgISzlEcUU0YwTmjqQQYXibIoSpKEEkywY6t3R5oowSTlmHEK3UWU%2BwjIDxGEsIQiwhMUg2JhGjNMEwQZWAwpuaMxavNgj0w0IgjuZUQpYXGcksQFccpjTmKCkpRxlAJRD4c8gpRADN1FiESyh%2BN7J99j/1FV7cckgCdV2XrtH5ydLu35lV4%2BB08u6PhEu5L8fCJWUgNY1Fo7jLw43Z9mZy5%2BT1%2B8HHbfBomPPZz4R49WFrbt2pB%2BgPtcZf7HH%2BalvzetIt4vVMJKDU%2BtbI5tX%2B8exOvLdGnEvmzdv8GDMFq1L%2BnNfNCa3YJqYv0CHA5/ATheqP/7BgAA">VirES GUI</a></li>
<li><a href="https://notebooks.vires.services/notebooks/03a1_demo-magx_lr_1b">Notebook</a></li>
<li><a href="http://hapi-server.org/servers/#server=VirES-for-Swarm&amp;dataset=SW_OPER_MAGA_LR_1B&amp;parameters=B_NEC&amp;start=2022-01-01T00:00:00Z&amp;stop=2022-01-01T00:01:00Z&amp;return=data&amp;format=csv&amp;style=header">HAPI</a></li>
</ul>
</li>
</ul>
<h2>FAST processing</h2>
<p>N/A</p>
<h2>Preview image</h2>
<p>(delivered separately)</p>
<h2>File contents</h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Variable</th>
<th style="text-align: left;">Units</th>
<th style="text-align: left;">Description</th>
<th style="text-align: right;">Dim</th>
<th style="text-align: left;">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Timestamp</td>
<td style="text-align: left;">UTC</td>
<td style="text-align: left;">Time of observation</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">CDF_EPOCH</td>
</tr>
<tr>
<td style="text-align: left;">SyncStatus</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Synchronization status</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">CDF_UINT2</td>
</tr>
<tr>
<td style="text-align: left;">Latitude</td>
<td style="text-align: left;">deg</td>
<td style="text-align: left;">Position in ITRF - Latitude</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">CDF_DOUBLE</td>
</tr>
<tr>
<td style="text-align: left;">Longitude</td>
<td style="text-align: left;">deg</td>
<td style="text-align: left;">Position in ITRF - Longitude</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">CDF_DOUBLE</td>
</tr>
<tr>
<td style="text-align: left;">Radius</td>
<td style="text-align: left;">m</td>
<td style="text-align: left;">Position in ITRF - Radius</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">CDF_DOUBLE</td>
</tr>
<tr>
<td style="text-align: left;">F</td>
<td style="text-align: left;">nT</td>
<td style="text-align: left;">Magnetic field intensity</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">CDF_DOUBLE</td>
</tr>
<tr>
<td style="text-align: left;">dF_Sun</td>
<td style="text-align: left;">nT</td>
<td style="text-align: left;">Magnetic stray field correction of Sun induced perturbation at ASM sensor</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">CDF_DOUBLE</td>
</tr>
<tr>
<td style="text-align: left;">dF_AOCS</td>
<td style="text-align: left;">nT</td>
<td style="text-align: left;">Magnetic stray field correction intensity of AOCS magneto-torquer coils</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">CDF_DOUBLE</td>
</tr>
<tr>
<td style="text-align: left;">dF_other</td>
<td style="text-align: left;">nT</td>
<td style="text-align: left;">Magnetic stray field correction intensity of all other sources</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">CDF_DOUBLE</td>
</tr>
<tr>
<td style="text-align: left;">F_error</td>
<td style="text-align: left;">nT</td>
<td style="text-align: left;">Error estimate on magnetic field intensity</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">CDF_DOUBLE</td>
</tr>
<tr>
<td style="text-align: left;">B_VFM</td>
<td style="text-align: left;">nT</td>
<td style="text-align: left;">Magnetic field vector, VFM frame</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">CDF_DOUBLE</td>
</tr>
<tr>
<td style="text-align: left;">B_NEC</td>
<td style="text-align: left;">nT</td>
<td style="text-align: left;">Magnetic field vector, NEC frame</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">CDF_DOUBLE</td>
</tr>
<tr>
<td style="text-align: left;">dB_Sun</td>
<td style="text-align: left;">nT</td>
<td style="text-align: left;">Magnetic stray field correction vector of Sun induced perturbation, VFM frame</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">CDF_DOUBLE</td>
</tr>
<tr>
<td style="text-align: left;">dB_AOCS</td>
<td style="text-align: left;">nT</td>
<td style="text-align: left;">Magnetic stray field correction vector of AOCS magneto-torquer coils, VFM frame</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">CDF_DOUBLE</td>
</tr>
<tr>
<td style="text-align: left;">dB_other</td>
<td style="text-align: left;">nT</td>
<td style="text-align: left;">Magnetic stray field correction vector of all other sources, VFM frame</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">CDF_DOUBLE</td>
</tr>
<tr>
<td style="text-align: left;">B_error</td>
<td style="text-align: left;">nT</td>
<td style="text-align: left;">Error estimates on magnetic field, VFM frame</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">CDF_DOUBLE</td>
</tr>
<tr>
<td style="text-align: left;">q_NEC_CRF</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Quaternion, transformation: NEC - CRF</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">CDF_DOUBLE</td>
</tr>
<tr>
<td style="text-align: left;">Att_error</td>
<td style="text-align: left;">mdeg</td>
<td style="text-align: left;">Error estimates on attitude information</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">CDF_DOUBLE</td>
</tr>
<tr>
<td style="text-align: left;">Flags_F</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Flags characterizing the magnetic field intensity measurement (F)</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">CDF_UINT1</td>
</tr>
<tr>
<td style="text-align: left;">Flags_B</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Flags characterizing the magnetic field measurement</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">CDF_UINT1</td>
</tr>
<tr>
<td style="text-align: left;">Flags_q</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Flags characterizing the attitude information</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">CDF_UINT1</td>
</tr>
<tr>
<td style="text-align: left;">Flags_Platform</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Flags characterizing the S/C platform information</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">CDF_UINT2</td>
</tr>
<tr>
<td style="text-align: left;">ASM_Freq_Dev</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">ASM frequency calibration data deviation</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">CDF_DOUBLE</td>
</tr>
</tbody>
</table>
<h2>More details</h2>
<table border="1">
    <caption>Meaning of Flags_F, Flags_B, Flags_q and Flags_Platform in the data product</caption>
    <thead>
        <tr>
            <th>Flag</th>
            <th>Value</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td rowspan="15">Flags_F</td>
            <td>0</td>
            <td>Magnetic field intensity measurements (ASM) nominal (scalar mode)</td>
        </tr>
        <tr>
            <td>1</td>
            <td>ASM running in vector mode</td>
        </tr>
        <tr>
            <td>2</td>
            <td>Outlier detected, gap, or not enough ASM frequency calibration data for filtering</td>
        </tr>
        <tr>
            <td>3</td>
            <td>Combination (sum) of values 1 and 2</td>
        </tr>
        <tr>
            <td>4</td>
            <td>At least one of 4 nearest ASM samples is suspicious</td>
        </tr>
        <tr>
            <td>5-7</td>
            <td>Combination (sum) of values 1-4</td>
        </tr>
        <tr>
            <td>8</td>
            <td>Within 8 seconds after ASM restart, loss of magnetic field lock, or telemetry gap</td>
        </tr>
        <tr>
            <td>9-15</td>
            <td>Combination (sum) of values 1-8</td>
        </tr>
        <tr>
            <td>16</td>
            <td>Discrepancy between ASM and VFM measurements &ndash; at least one of the 4 nearest ASM samples differ from VFM measurements</td>
        </tr>
        <tr>
            <td>17-31</td>
            <td>Combination (sum) of values 1-16</td>
        </tr>
        <tr>
            <td>32</td>
            <td>Gap in 4 nearest ASM samples</td>
        </tr>
        <tr>
            <td>33-63</td>
            <td>Combination (sum) of values 1-32</td>
        </tr>
        <tr>
            <td>64</td>
            <td>VFM instrument turned off, i.e. no stray field corrections</td>
        </tr>
        <tr>
            <td>65-79, 96-111</td>
            <td>Combination (sum) of value 64 with values 1-15 and 32-47</td>
        </tr>
        <tr>
            <td>255</td>
            <td>Not enough ASM samples to generate F.</td>
        </tr>
        <tr>
            <td rowspan="11">Flags_B</td>
            <td>0</td>
            <td>Magnetic field vector measurements (VFM) nominal</td>
        </tr>
        <tr>
            <td>1</td>
            <td>ASM instrument turned off</td>
        </tr>
        <tr>
            <td>2</td>
            <td>Outlier detected, gap, or not enough VFM temperature data for filtering</td>
        </tr>
        <tr>
            <td>3</td>
            <td>Both conditions (values) 1 and 2 above</td>
        </tr>
        <tr>
            <td>4</td>
            <td>More than 5 suspiciuos VFM samples in 2 seconds surrounding record time</td>
        </tr>
        <tr>
            <td>5-7</td>
            <td>Combination (sum) of values 1-4</td>
        </tr>
        <tr>
            <td>8</td>
            <td>Discrepancy between ASM and VFM measurements</td>
        </tr>
        <tr>
            <td>10,12,14</td>
            <td>Combination (sum) of values 2, 4, 8</td>
        </tr>
        <tr>
            <td>16</td>
            <td>Gap in VFM samples in surrounding 2 seconds (by rejection or missing data)</td>
        </tr>
        <tr>
            <td>17-24,26,28,30</td>
            <td>Combination (sum) of values 1, 2, 4, 8, and 16 (but not 1 and 8 simultaneously)</td>
        </tr>
        <tr>
            <td>255</td>
            <td>Not enough VFM samples to generate B_VFM and B_NEC</td>
        </tr>
    </tbody>
<tr>
            <td rowspan="39">Flags_q</td>
            <td>0</td>
            <td>Attitude information (STR) nominal</td>
        </tr>
        <tr>
            <td>1</td>
            <td>Lack of 1 or 2 attitudes of CHU1 in 4 nearest STR samples</td>
        </tr>
        <tr>
            <td>2</td>
            <td>Lack of 1 or 2 attitudes of CHU2 in 4 nearest STR samples</td>
        </tr>
        <tr>
            <td>3</td>
            <td>Lack of 1 or 2 attitudes of CHU3 in 4 nearest STR samples</td>
        </tr>
        <tr>
            <td>4</td>
            <td>Lack of 3 or 4 attitudes of CHU1 in 4 nearest STR samples</td>
        </tr>
        <tr>
            <td>5</td>
            <td>Lack of 3 or 4 attitudes of CHU2 in 4 nearest STR samples</td>
        </tr>
        <tr>
            <td>6</td>
            <td>Lack of 3 or 4 attitudes of CHU3 in 4 nearest STR samples</td>
        </tr>
        <tr>
            <td>7</td>
            <td>Not currently used</td>
        </tr>
        <tr>
            <td>8</td>
            <td>On-ground aberrational correction of any attitude sample among 4 nearest STR samples.</td>
        </tr>
        <tr>
            <td>9-14</td>
            <td>As 1-7 above with on-ground aberrational correction of any attitude sample among 4 nearest STR samples.</td>
        </tr>
        <tr>
            <td>15</td>
            <td>Not currently used</td>
        </tr>
        <tr>
            <td>16</td>
            <td>CHU1 obscured by bright object in 4 nearest STR samples (all 4 CHU1 samples invalid), CHU2 and CHU3 ok</td>
        </tr>
        <tr>
            <td>17</td>
            <td>CHU2 obscured by bright object in 4 nearest STR samples (all 4 CHU2 samples invalid) , CHU1 and CHU3 ok</td>
        </tr>
        <tr>
            <td>18</td>
            <td>CHU3 obscured by bright object in 4 nearest STR samples (all 4 CHU3 samples invalid) , CHU1 and CHU2 ok</td>
        </tr>
        <tr>
            <td>19</td>
            <td>Lack of 2-4 attitudes of CHU1 and CHU2 in 4 nearest STR samples, but not both simultaneously</td>
        </tr>
        <tr>
            <td>20</td>
            <td>Lack of 2-4 attitudes of CHU1 and CHU3 in 4 nearest STR samples, but not both simultaneously</td>
        </tr>
        <tr>
            <td>21</td>
            <td>Lack of 2-4 attitudes of CHU2 and CHU3 in 4 nearest STR samples, but not both simultaneously</td>
        </tr>
        <tr>
            <td>22</td>
            <td>Lack of 3-4 attitudes of CHU1, CHU2, and CHU3 in 4 nearest STR samples, but not two simultaneously</td>
        </tr>
        <tr>
            <td>23</td>
            <td>Not currently used</td>
        </tr>
        <tr>
            <td>24-30</td>
            <td>As 16-22 above with on-ground aberrational correction.</td>
        </tr>
        <tr>
            <td>31</td>
            <td>Not currently used</td>
        </tr>
        <tr>
            <td>32</td>
            <td>1 or 2 attitudes based on CHU1 alone (CHU2 and CHU3 missing) in 4 nearest STR samples</td>
        </tr>
        <tr>
            <td>33</td>
            <td>1 or 2 attitudes based on CHU2 alone in 4 nearest STR samples</td>
        </tr>
        <tr>
            <td>34</td>
            <td>1 or 2 attitudes based on CHU3 alone in 4 nearest STR samples</td>
        </tr>
        <tr>
            <td>35</td>
            <td>2 attitudes based on single, intermittent CHU alone in 4 nearest STR samples</td>
        </tr>
        <tr>
            <td>36-39</td>
            <td>Not currently used</td>
        </tr>
        <tr>
            <td>40-43</td>
            <td>As 32-35 above with on-ground aberrational correction.</td>
        </tr>
        <tr>
            <td>44-47</td>
            <td>Not currently used</td>
        </tr>
        <tr>
            <td>48</td>
            <td>1 attitude sample missing among 4 nearest STR samples (data gap)</td>
        </tr>
        <tr>
            <td>49</td>
            <td>2 attitude samples missing among 4 nearest STR samples</td>
        </tr>
        <tr>
            <td>50</td>
            <td>3 or more attitude samples missing among 4 nearest STR samples</td>
        </tr>
        <tr>
            <td>51</td>
            <td>3 or 4 attitudes based on CHU1 alone in 4 nearest STR samples</td>
        </tr>
        <tr>
            <td>52</td>
            <td>3 or 4 attitudes based on CHU2 alone in 4 nearest STR samples</td>
        </tr>
        <tr>
            <td>53</td>
            <td>3 or 4 attitudes based on CHU3 alone in 4 nearest STR samples</td>
        </tr>
        <tr>
            <td>54</td>
            <td>3 or 4 attitudes based on single, intermittent CHU alone in 4 nearest STR samples</td>
        </tr>
        <tr>
            <td>55</td>
            <td>Not currently used</td>
        </tr>
        <tr>
            <td>56-62</td>
            <td>As 48-54 above with on-ground aberrational correction.</td>
        </tr>
        <tr>
            <td>63-254</td>
            <td>Not currently used</td>
        </tr>
        <tr>
            <td>255</td>
            <td>Not enough STR data for generating attitude information.</td>
        </tr>
        <tr>
            <td rowspan="17">Flags_Platform</td>
            <td>0</td>
            <td>Platform telemetry nominal (no missing or suspicious data)</td>
        </tr>
        <tr>
            <td>1</td>
            <td>Thruster latch valves open, thrusters not activated</td>
        </tr>
        <tr>
            <td>2</td>
            <td>Thrusters activated</td>
        </tr>
        <tr>
            <td>4</td>
            <td>Gap in Bus telemetry, 1 or 2 samples missing</td>
        </tr>
        <tr>
            <td>5-7</td>
            <td>Used for combinations (sum) of values 1, 2, and 4</td>
        </tr>
        <tr>
            <td>8</td>
            <td>Outlier detected in Bus currents</td>
        </tr>
        <tr>
            <td>9-15</td>
            <td>Used for combinations (sum) of values 1-8</td>
        </tr>
        <tr>
            <td>16</td>
            <td>Not enough data for filtering Bus currents (due to large gap or jump in data)</td>
        </tr>
        <tr>
            <td>17-31</td>
            <td>Used for combinations (sum) of values 1-16</td>
        </tr>
        <tr>
            <td>32</td>
            <td>Change in instrument state according to Bus telemetry</td>
        </tr>
        <tr>
            <td>33-63</td>
            <td>Used for combinations (sum) of values 1-32</td>
        </tr>
        <tr>
            <td>64</td>
            <td>No Bus telemetry available (for extended period)</td>
        </tr>
        <tr>
            <td>65-67</td>
            <td>Used for combinations (sum) of values 1, 2 and 64</td>
        </tr>
        <tr>
            <td>128</td>
            <td>Gap in AOCS telemetry</td>
        </tr>
        <tr>
            <td>129-195</td>
            <td>Used for combinations (sum) of values 1-67 and 128</td>
        </tr>
        <tr>
            <td>256</td>
            <td>Position information based on on-board (GPSR) navigational solution</td>
        </tr>
        <tr>
            <td>257-323, 384-451</td>
            <td>Used for combinations (sum) of values 1-67, 128, and 256</td>
        </tr>
    </tbody>
</table>

<h2>Related resources</h2>
<p><strong>Level 1B Product Descriptions:</strong></p>

<ul>
    <li><a href="https://earth.esa.int/eogateway/documents/20142/37627/swarm-level-1b-processor-algorithms.pdf/e0606842-41ca-fa48-0a40-05a0d4824501?version=1.0">Swarm Level 1B Processor Algorithms</a></li>
    <li><a href="https://earth.esa.int/eogateway/documents/20142/37627/swarm-level-1b-product-definition-specification.pdf/12995649-fbcb-6ae2-5302-2269fecf5a08">Swarm Level 1B Product Definition</a></li>
    <li><a href="https://earth.esa.int/eogateway/documents/20142/37627/swarm-level-1b-cdf-data-format.pdf/ddba5600-e0e2-725c-c62f-d5002d38c65b">Swarm Level 1B CDF Data Format</a></li>
</ul>

<p><strong>Technical Notes:</strong></p>

<ul>
    <li><a href="https://earth.esa.int/eogateway/documents/20142/37627/In-flight+Scalar+Calibration+and+Characterisation+of+the+Swarm+Magnetometry+Package.pdf/cb3531b0-1955-a1ab-b9ee-2441e3a77bf3">In-flight Scalar Calibration and Characterisation of the Swarm Magnetometry Package</a></li>
    <li><a href="https://earth.esa.int/eogateway/documents/20142/37627/swarm-scalar-mapping.pdf">Mapping of Swarm Magnetic Field Intensity from Alpha and Charlie</a></li>
</ul>

<h2>Changelog</h2>
<p>N/A</p>